{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.filter.js\";\nimport \"core-js/modules/es.iterator.for-each.js\";\nimport { createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, vModelText as _vModelText, withDirectives as _withDirectives, vModelRadio as _vModelRadio } from \"vue\";\nconst _hoisted_1 = {\n  class: \"checkout-container\"\n};\nconst _hoisted_2 = {\n  class: \"checkout-form-container\"\n};\nconst _hoisted_3 = {\n  class: \"checkout-heading\"\n};\nconst _hoisted_4 = {\n  key: 0\n};\nconst _hoisted_5 = {\n  class: \"form-group details-group\"\n};\nconst _hoisted_6 = {\n  class: \"form-group\"\n};\nconst _hoisted_7 = {\n  key: 0,\n  class: \"error-mess\"\n};\nconst _hoisted_8 = {\n  class: \"form-group\"\n};\nconst _hoisted_9 = {\n  key: 0,\n  class: \"error-mess\"\n};\nconst _hoisted_10 = {\n  class: \"form-group details-group\"\n};\nconst _hoisted_11 = {\n  class: \"form-group\"\n};\nconst _hoisted_12 = {\n  class: \"form-group\"\n};\nconst _hoisted_13 = {\n  key: 0,\n  class: \"error-mess\"\n};\nconst _hoisted_14 = {\n  key: 0\n};\nconst _hoisted_15 = {\n  class: \"form-group\"\n};\nconst _hoisted_16 = {\n  key: 0,\n  class: \"error-mess\"\n};\nconst _hoisted_17 = {\n  class: \"form-group\"\n};\nconst _hoisted_18 = {\n  key: 0,\n  class: \"error-mess\"\n};\nconst _hoisted_19 = {\n  class: \"form-group\"\n};\nconst _hoisted_20 = {\n  class: \"form-control\"\n};\nconst _hoisted_21 = {\n  key: 0,\n  class: \"error-mess\"\n};\nconst _hoisted_22 = {\n  class: \"form-group\"\n};\nconst _hoisted_23 = {\n  key: 0,\n  class: \"error-mess\"\n};\nconst _hoisted_24 = {\n  key: 0,\n  class: \"form-group\"\n};\nconst _hoisted_25 = [\"disabled\"];\nimport axios from \"axios\";\nimport { mapState } from \"vuex\";\nconst __default__ = {\n  name: \"Checkout\",\n  data() {\n    return {\n      checkoutObj: {\n        phone: \"\",\n        address: \"\",\n        paymentMethod: \"\"\n      },\n      cardObj: {\n        number: \"\",\n        name: \"\",\n        expiryDate: \"\",\n        cvv: \"\"\n      },\n      errorObj: {\n        phoneErr: [],\n        addressErr: [],\n        payErr: [],\n        numErr: [],\n        nameErr: [],\n        exDateErr: [],\n        cvvErr: []\n      },\n      cartItem: [],\n      itemQuantity: []\n    };\n  },\n  // created() {\n  //     this.getAllCartItem();\n  // },\n\n  mounted() {\n    this.getAllCartItem();\n  },\n  computed: {\n    ...mapState([\"allFoods\", \"user\"]),\n    filterFoods: function () {\n      return this.allFoods.filter(f => this.matchID(f, this.cartItem));\n    }\n  },\n  methods: {\n    availableTime: function () {\n      var now = new Date();\n      var currentMonth = (\"0\" + (now.getMonth() + 1)).slice(-2);\n      var minRange = now.getFullYear() + \"-\" + currentMonth;\n      var maxRange = now.getFullYear() + 10 + \"-\" + currentMonth;\n      document.getElementById(\"coCardEx\").setAttribute(\"min\", minRange);\n      document.getElementById(\"coCardEx\").setAttribute(\"max\", maxRange);\n    },\n    matchID: function (food, cartArray) {\n      let temp = \"\";\n      cartArray.forEach(element => {\n        if (parseInt(food.food_id) == element) {\n          temp = food;\n        }\n      });\n      return temp;\n    },\n    calculateSummaryPrice: function () {\n      let subtotal = 0;\n      let discount = 0;\n      let delivery = 80;\n      let i = 0;\n      while (i < this.itemQuantity.length) {\n        subtotal = subtotal + parseInt(this.filterFoods[i].food_price) * this.itemQuantity[i];\n        discount = discount + parseInt(this.filterFoods[i].food_discount) * this.itemQuantity[i];\n        i = i + 1;\n      }\n      if (!this.filterFoods.length) {\n        delivery = 0;\n      }\n      let total = subtotal - discount + delivery;\n      return [subtotal, discount, delivery, total];\n    },\n    async getAllCartItem() {\n      if (this.user) {\n        let existItem = await axios.get('/cartItem/' + this.user.user_id);\n        existItem.data.forEach(element => {\n          this.cartItem.push(element.food_id);\n          this.itemQuantity.push(element.item_qty);\n        });\n      }\n    },\n    resetCheckErr: function () {\n      this.errorObj.phoneErr = [];\n      this.errorObj.addressErr = [];\n      this.errorObj.payErr = [];\n      this.errorObj.numErr = [];\n      this.errorObj.nameErr = [];\n      this.errorObj.exDateErr = [];\n      this.errorObj.cvvErr = [];\n    },\n    checkEmptyErr: function () {\n      for (var typeErr in this.errorObj) {\n        if (this.errorObj[typeErr].length != 0) {\n          return false;\n        }\n      }\n      return true;\n    },\n    inputUpcase: function (e) {\n      e.target.value = e.target.value.toUpperCase();\n    },\n    checkForm: function () {\n      this.resetCheckErr();\n\n      // Phone validate\n      if (!this.checkoutObj.phone) {\n        this.errorObj.phoneErr.push('Entering phone number is required');\n      } else {\n        if (!this.checkoutObj.phone.startsWith('+91')) {\n          this.errorObj.phoneErr.push('Phone numbers must start with +91');\n        }\n        if (this.checkoutObj.phone.length !== 13) {\n          this.errorObj.phoneErr.push('Phone number must be +91 followed by 10 digits');\n        }\n        if (!/[0-9]{11}/.test(this.checkoutObj.phone)) {\n          this.errorObj.phoneErr.push('Phone numbers can only contain numbers');\n        }\n      }\n\n      // Address validate\n      if (!this.checkoutObj.address) {\n        this.errorObj.addressErr.push('Entering address is required');\n      }\n\n      // Card validate\n      if (!this.checkoutObj.paymentMethod) {\n        this.errorObj.payErr.push('Selecting payment method is required');\n      } else if (this.checkoutObj.paymentMethod == \"card\") {\n        if (!this.cardObj.number) {\n          this.errorObj.numErr.push('Entering card number is required');\n        } else {\n          if (!this.cardObj.number.startsWith('4')) {\n            this.errorObj.numErr.push('Visa card numbers must start with 4');\n          }\n          if (this.cardObj.number.length != 16) {\n            this.errorObj.numErr.push('Visa card numbers must have exactly 16 digits');\n          }\n          if (!/[0-9]{16}/.test(this.cardObj.number)) {\n            this.errorObj.numErr.push('Visa card numbers can only contain numbers');\n          }\n        }\n        if (!this.cardObj.name) {\n          this.errorObj.nameErr.push('Entering name is required');\n        } else {\n          if (!/^[A-Za-z]+$/.test(this.cardObj.name.replace(/\\s/g, \"\"))) {\n            this.errorObj.nameErr.push('A name can only contain letters');\n          }\n        }\n        if (!this.cardObj.expiryDate) {\n          this.errorObj.exDateErr.push('Entering expiry date is required');\n        }\n        if (!this.cardObj.cvv) {\n          this.errorObj.cvvErr.push('Entering cvv code is required');\n        } else {\n          if (this.cardObj.cvv.length != 3) {\n            this.errorObj.cvvErr.push('Cvv code must have exactly 3 digits');\n          }\n          if (!/[0-9]{3}/.test(this.cardObj.cvv)) {\n            this.errorObj.cvvErr.push('Cvv code can only contain numbers');\n          }\n        }\n      } else if (this.checkoutObj.paymentMethod == \"cash\") {\n        this.cardObj.number = \"\";\n        this.cardObj.name = \"\";\n        this.cardObj.expiryDate = \"\";\n        this.cardObj.cvv = \"\";\n        this.errorObj.numErr = [];\n        this.errorObj.nameErr = [];\n        this.errorObj.exDateErr = [];\n        this.errorObj.cvvErr = [];\n      }\n    },\n    isPaid: function () {\n      if (this.checkoutObj.paymentMethod == \"cash\") {\n        return \"false\";\n      } else if (this.checkoutObj.paymentMethod == \"card\") {\n        return \"true\";\n      }\n    },\n    async sendBillDetails(billId, foodId, qty) {\n      let billDetails = {\n        bill_id: parseInt(billId),\n        food_id: parseInt(foodId),\n        item_qty: parseInt(qty)\n      };\n      await axios.post(\"/billdetails\", billDetails);\n    },\n    async handleSubmit(e) {\n      this.checkForm();\n      if (!this.checkEmptyErr()) {\n        e.preventDefault();\n      } else {\n        e.preventDefault();\n        let billId = (await axios.get(\"/billstatus/new\")).data;\n        if (billId == \"\") {\n          billId = 1;\n        } else {\n          billId = parseInt(billId.bill_id) + 1;\n        }\n        this.cartItem.forEach((foodId, index) => {\n          this.sendBillDetails(billId, foodId, this.itemQuantity[index]);\n        });\n        var now = new Date();\n        var day = (\"0\" + now.getDate()).slice(-2);\n        var month = (\"0\" + (now.getMonth() + 1)).slice(-2);\n        var hour = (\"0\" + now.getHours()).slice(-2);\n        var min = (\"0\" + now.getMinutes()).slice(-2);\n        var currentTime = now.getFullYear() + \"-\" + month + \"-\" + day + \"T\" + hour + \":\" + min;\n        let billStatus = {\n          bill_id: parseInt(billId),\n          user_id: parseInt(this.user.user_id),\n          bill_phone: this.checkoutObj.phone,\n          bill_address: this.checkoutObj.address,\n          bill_when: currentTime,\n          bill_method: this.checkoutObj.paymentMethod,\n          bill_discount: parseInt(this.calculateSummaryPrice()[1]),\n          bill_delivery: parseInt(this.calculateSummaryPrice()[2]),\n          bill_total: parseInt(this.calculateSummaryPrice()[3]),\n          bill_paid: this.isPaid(),\n          bill_status: 1\n        };\n        axios.post(\"/billstatus\", billStatus);\n        axios.delete(\"/cartItem/\" + this.user.user_id);\n        this.cartItem = [];\n        this.itemQuantity = [];\n        this.$router.push(\"/thank\");\n      }\n    }\n  }\n};\nexport default /*@__PURE__*/Object.assign(__default__, {\n  setup(__props) {\n    // enables v-focus in templates\n    const vUpcase = {\n      mounted(el) {\n        el.style.textTransform = \"uppercase\";\n      }\n    };\n    return (_ctx, _cache) => {\n      return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"form\", {\n        id: \"checkoutForm\",\n        onSubmit: _cache[9] || (_cache[9] = (...args) => _ctx.handleSubmit && _ctx.handleSubmit(...args)),\n        novalidate: \"\",\n        autocomplete: \"off\"\n      }, [_createElementVNode(\"div\", _hoisted_3, [_cache[10] || (_cache[10] = _createElementVNode(\"h3\", null, [_createTextVNode(\"Few more step to place your order\"), _createElementVNode(\"span\", null, \"Total\")], -1)), _ctx.user ? (_openBlock(), _createElementBlock(\"h3\", _hoisted_4, [_createTextVNode(_toDisplayString(_ctx.user.user_name) + \"'s Order\", 1), _createElementVNode(\"span\", null, \"₹\" + _toDisplayString(_ctx.calculateSummaryPrice()[3]), 1)])) : _createCommentVNode(\"\", true)]), _createElementVNode(\"div\", _hoisted_5, [_cache[11] || (_cache[11] = _createElementVNode(\"h4\", null, \"Shipping Details\", -1)), _createElementVNode(\"div\", _hoisted_6, [_withDirectives(_createElementVNode(\"input\", {\n        type: \"text\",\n        name: \"coPhone\",\n        id: \"coPhone\",\n        placeholder: \"Phone number\",\n        class: \"form-control\",\n        \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => _ctx.checkoutObj.phone = $event)\n      }, null, 512), [[_vModelText, _ctx.checkoutObj.phone]]), _ctx.errorObj.phoneErr.length > 0 ? (_openBlock(), _createElementBlock(\"p\", _hoisted_7, _toDisplayString(_ctx.errorObj.phoneErr[0]), 1)) : _createCommentVNode(\"\", true)]), _createElementVNode(\"div\", _hoisted_8, [_withDirectives(_createElementVNode(\"input\", {\n        type: \"text\",\n        name: \"coAddress\",\n        id: \"coAddress\",\n        placeholder: \"Address in Bangalore, Karnataka\",\n        class: \"form-control\",\n        \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => _ctx.checkoutObj.address = $event)\n      }, null, 512), [[_vModelText, _ctx.checkoutObj.address]]), _ctx.errorObj.addressErr.length > 0 ? (_openBlock(), _createElementBlock(\"p\", _hoisted_9, _toDisplayString(_ctx.errorObj.addressErr[0]), 1)) : _createCommentVNode(\"\", true)])]), _createElementVNode(\"div\", _hoisted_10, [_cache[15] || (_cache[15] = _createElementVNode(\"h4\", null, \"Payment Method\", -1)), _createElementVNode(\"div\", _hoisted_11, [_createElementVNode(\"div\", _hoisted_12, [_withDirectives(_createElementVNode(\"input\", {\n        type: \"radio\",\n        name: \"payment\",\n        value: \"cash\",\n        id: \"paymentCash\",\n        \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => _ctx.checkoutObj.paymentMethod = $event)\n      }, null, 512), [[_vModelRadio, _ctx.checkoutObj.paymentMethod]]), _cache[12] || (_cache[12] = _createElementVNode(\"span\", null, \"Cash\", -1)), _withDirectives(_createElementVNode(\"input\", {\n        type: \"radio\",\n        name: \"payment\",\n        value: \"card\",\n        id: \"paymentCard\",\n        \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => _ctx.checkoutObj.paymentMethod = $event)\n      }, null, 512), [[_vModelRadio, _ctx.checkoutObj.paymentMethod]]), _cache[13] || (_cache[13] = _createElementVNode(\"span\", null, \"Card (Visa)\", -1))]), _ctx.errorObj.payErr.length > 0 ? (_openBlock(), _createElementBlock(\"p\", _hoisted_13, _toDisplayString(_ctx.errorObj.payErr[0]), 1)) : _createCommentVNode(\"\", true)]), _ctx.checkoutObj.paymentMethod == 'card' ? (_openBlock(), _createElementBlock(\"div\", _hoisted_14, [_createElementVNode(\"div\", _hoisted_15, [_withDirectives(_createElementVNode(\"input\", {\n        type: \"text\",\n        name: \"coCardNum\",\n        placeholder: \"Enter your card number\",\n        id: \"coCardNum\",\n        class: \"form-control\",\n        \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => _ctx.cardObj.number = $event),\n        size: \"16\",\n        maxlength: \"16\"\n      }, null, 512), [[_vModelText, _ctx.cardObj.number]]), _ctx.errorObj.numErr.length > 0 ? (_openBlock(), _createElementBlock(\"p\", _hoisted_16, _toDisplayString(_ctx.errorObj.numErr[0]), 1)) : _createCommentVNode(\"\", true)]), _createElementVNode(\"div\", _hoisted_17, [_withDirectives(_createElementVNode(\"input\", {\n        type: \"text\",\n        name: \"coCardName\",\n        placeholder: \"Enter the name in your card \",\n        id: \"coCardName\",\n        class: \"form-control\",\n        \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => _ctx.cardObj.name = $event)\n      }, null, 512), [[vUpcase], [_vModelText, _ctx.cardObj.name]]), _ctx.errorObj.nameErr.length > 0 ? (_openBlock(), _createElementBlock(\"p\", _hoisted_18, _toDisplayString(_ctx.errorObj.nameErr[0]), 1)) : _createCommentVNode(\"\", true)]), _createElementVNode(\"div\", _hoisted_19, [_createElementVNode(\"div\", _hoisted_20, [_cache[14] || (_cache[14] = _createElementVNode(\"span\", {\n        style: {\n          \"font-size\": \"1.6rem\",\n          \"position\": \"absolute\",\n          \"margin-left\": \"-5px\",\n          \"margin-top\": \"-11px\"\n        }\n      }, \"Expiry Date: \", -1)), _withDirectives(_createElementVNode(\"input\", {\n        style: {\n          \"position\": \"absolute\",\n          \"margin-left\": \"100px\",\n          \"margin-top\": \"-12px\",\n          \"background\": \"inherit\"\n        },\n        type: \"month\",\n        name: \"coCardEx\",\n        id: \"coCardEx\",\n        \"onUpdate:modelValue\": _cache[6] || (_cache[6] = $event => _ctx.cardObj.expiryDate = $event),\n        onClick: _cache[7] || (_cache[7] = $event => _ctx.availableTime())\n      }, null, 512), [[_vModelText, _ctx.cardObj.expiryDate]])]), _ctx.errorObj.exDateErr.length > 0 ? (_openBlock(), _createElementBlock(\"p\", _hoisted_21, _toDisplayString(_ctx.errorObj.exDateErr[0]), 1)) : _createCommentVNode(\"\", true)]), _createElementVNode(\"div\", _hoisted_22, [_withDirectives(_createElementVNode(\"input\", {\n        type: \"text\",\n        name: \"coCardCvv\",\n        placeholder: \"CVV\",\n        id: \"coCardCvv\",\n        class: \"form-control\",\n        \"onUpdate:modelValue\": _cache[8] || (_cache[8] = $event => _ctx.cardObj.cvv = $event)\n      }, null, 512), [[_vModelText, _ctx.cardObj.cvv]]), _ctx.errorObj.cvvErr.length > 0 ? (_openBlock(), _createElementBlock(\"p\", _hoisted_23, _toDisplayString(_ctx.errorObj.cvvErr[0]), 1)) : _createCommentVNode(\"\", true)])])) : _createCommentVNode(\"\", true)]), _ctx.user ? (_openBlock(), _createElementBlock(\"div\", _hoisted_24, [_createElementVNode(\"input\", {\n        type: \"submit\",\n        value: \"CONFIRM & PAY\",\n        class: \"btn\",\n        disabled: _ctx.filterFoods.length ? false : true\n      }, null, 8, _hoisted_25)])) : _createCommentVNode(\"\", true)], 32)])]);\n    };\n  }\n});","map":{"version":3,"names":["axios","mapState","__default__","name","data","checkoutObj","phone","address","paymentMethod","cardObj","number","expiryDate","cvv","errorObj","phoneErr","addressErr","payErr","numErr","nameErr","exDateErr","cvvErr","cartItem","itemQuantity","mounted","getAllCartItem","computed","filterFoods","allFoods","filter","f","matchID","methods","availableTime","now","Date","currentMonth","getMonth","slice","minRange","getFullYear","maxRange","document","getElementById","setAttribute","food","cartArray","temp","forEach","element","parseInt","food_id","calculateSummaryPrice","subtotal","discount","delivery","i","length","food_price","food_discount","total","user","existItem","get","user_id","push","item_qty","resetCheckErr","checkEmptyErr","typeErr","inputUpcase","e","target","value","toUpperCase","checkForm","startsWith","test","replace","isPaid","sendBillDetails","billId","foodId","qty","billDetails","bill_id","post","handleSubmit","preventDefault","index","day","getDate","month","hour","getHours","min","getMinutes","currentTime","billStatus","bill_phone","bill_address","bill_when","bill_method","bill_discount","bill_delivery","bill_total","bill_paid","bill_status","delete","$router","vUpcase","el","style","textTransform"],"sources":["C:/Users/visha/Downloads/vedeshi khana/restaurant-ordering-system-master/frontend/src/pages/Checkout.vue"],"sourcesContent":["<template>\n    <div class=\"checkout-container\">\n        <div class=\"checkout-form-container\">\n            <form id=\"checkoutForm\" @submit=\"handleSubmit\" novalidate autocomplete=\"off\">\n                <div class=\"checkout-heading\">\n                    <h3>Few more step to place your order<span>Total</span></h3>\n                    <h3 v-if=\"user\">{{ user.user_name }}'s Order<span>₹{{ calculateSummaryPrice()[3] }}</span></h3>\n                </div>\n\n                <div class=\"form-group details-group\">\n                    <h4>Shipping Details</h4>\n                    <div class=\"form-group\">\n                        <input type=\"text\" name=\"coPhone\" id=\"coPhone\" placeholder=\"Phone number\" class=\"form-control\"\n                            v-model=\"checkoutObj.phone\" />\n                        <p class=\"error-mess\" v-if=\"errorObj.phoneErr.length > 0\">{{ errorObj.phoneErr[0] }}</p>\n                    </div>\n\n                    <div class=\"form-group\">\n                        <input type=\"text\" name=\"coAddress\" id=\"coAddress\" placeholder=\"Address in Bangalore, Karnataka\"\n                            class=\"form-control\" v-model=\"checkoutObj.address\" />\n                        <p class=\"error-mess\" v-if=\"errorObj.addressErr.length > 0\">{{ errorObj.addressErr[0] }}</p>\n                    </div>\n                </div>\n\n                <div class=\"form-group details-group\">\n                    <h4>Payment Method</h4>\n                    <div class=\"form-group\">\n                        <div class=\"form-group\">\n                            <input type=\"radio\" name=\"payment\" value=\"cash\" id=\"paymentCash\"\n                                v-model=\"checkoutObj.paymentMethod\" /><span>Cash</span>\n                            <input type=\"radio\" name=\"payment\" value=\"card\" id=\"paymentCard\"\n                                v-model=\"checkoutObj.paymentMethod\" /><span>Card (Visa)</span>\n                        </div>\n                        <p class=\"error-mess\" v-if=\"errorObj.payErr.length > 0\">{{ errorObj.payErr[0] }}</p>\n                    </div>\n\n\n                    <div v-if=\"checkoutObj.paymentMethod == 'card'\">\n                        <div class=\"form-group\">\n                            <input type=\"text\" name=\"coCardNum\" placeholder=\"Enter your card number\" id=\"coCardNum\"\n                                class=\"form-control\" v-model=\"cardObj.number\" size=\"16\" maxlength=\"16\" />\n                            <p class=\"error-mess\" v-if=\"errorObj.numErr.length > 0\">{{ errorObj.numErr[0] }}</p>\n                        </div>\n\n                        <div class=\"form-group\">\n                            <input v-upcase type=\"text\" name=\"coCardName\" placeholder=\"Enter the name in your card \"\n                                id=\"coCardName\" class=\"form-control\" v-model=\"cardObj.name\" />\n                            <p class=\"error-mess\" v-if=\"errorObj.nameErr.length > 0\">{{ errorObj.nameErr[0] }}</p>\n                        </div>\n\n                        <div class=\"form-group\">\n                            <div class=\"form-control\">\n                                <span\n                                    style=\"font-size: 1.6rem; position: absolute; margin-left: -5px; margin-top: -11px;\">Expiry\n                                    Date:\n                                </span>\n                                <input\n                                    style=\"position: absolute; margin-left: 100px; margin-top: -12px; background: inherit;\"\n                                    type=\"month\" name=\"coCardEx\" id=\"coCardEx\" v-model=\"cardObj.expiryDate\"\n                                    @click=\"availableTime()\" />\n                            </div>\n                            <p class=\"error-mess\" v-if=\"errorObj.exDateErr.length > 0\">{{ errorObj.exDateErr[0] }}</p>\n                        </div>\n\n                        <div class=\"form-group\">\n                            <input type=\"text\" name=\"coCardCvv\" placeholder=\"CVV\" id=\"coCardCvv\" class=\"form-control\"\n                                v-model=\"cardObj.cvv\" />\n                            <p class=\"error-mess\" v-if=\"errorObj.cvvErr.length > 0\">{{ errorObj.cvvErr[0] }}</p>\n                        </div>\n                    </div>\n                </div>\n\n                <div v-if=\"user\" class=\"form-group\">\n                    <input type=\"submit\" value=\"CONFIRM & PAY\" class=\"btn\"\n                        :disabled=\"filterFoods.length ? false : true\" />\n                </div>\n            </form>\n        </div>\n    </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport { mapState } from \"vuex\";\nexport default {\n    name: \"Checkout\",\n\n    data() {\n        return {\n            checkoutObj: { phone: \"\", address: \"\", paymentMethod: \"\" },\n            cardObj: { number: \"\", name: \"\", expiryDate: \"\", cvv: \"\" },\n            errorObj: { phoneErr: [], addressErr: [], payErr: [], numErr: [], nameErr: [], exDateErr: [], cvvErr: [] },\n            cartItem: [],\n            itemQuantity: [],\n        }\n    },\n\n    // created() {\n    //     this.getAllCartItem();\n    // },\n\n    mounted() {\n        this.getAllCartItem();\n    },\n\n    computed: {\n        ...mapState([\"allFoods\", \"user\"]),\n\n        filterFoods: function () {\n            return this.allFoods.filter(\n                (f) => this.matchID(f, this.cartItem)\n            );\n        },\n    },\n\n    methods: {\n        availableTime: function () {\n            var now = new Date();\n            var currentMonth = (\"0\" + (now.getMonth() + 1)).slice(-2);\n\n            var minRange = now.getFullYear() + \"-\" + currentMonth;\n            var maxRange = (now.getFullYear() + 10) + \"-\" + currentMonth;\n\n            document.getElementById(\"coCardEx\").setAttribute(\"min\", minRange);\n            document.getElementById(\"coCardEx\").setAttribute(\"max\", maxRange);\n        },\n\n        matchID: function (food, cartArray) {\n            let temp = \"\";\n            cartArray.forEach(element => {\n                if (parseInt(food.food_id) == element) {\n                    temp = food\n                }\n            });\n            return temp\n        },\n\n        calculateSummaryPrice: function () {\n            let subtotal = 0;\n            let discount = 0;\n            let delivery = 80;\n            let i = 0;\n            while (i < this.itemQuantity.length) {\n                subtotal = subtotal + parseInt(this.filterFoods[i].food_price) * this.itemQuantity[i]\n                discount = discount + parseInt(this.filterFoods[i].food_discount) * this.itemQuantity[i]\n                i = i + 1\n            }\n            if (!this.filterFoods.length) {\n                delivery = 0\n            }\n            let total = subtotal - discount + delivery;\n            return [subtotal, discount, delivery, total];\n        },\n\n        async getAllCartItem() {\n            if (this.user) {\n                let existItem = await axios.get('/cartItem/' + this.user.user_id);\n                existItem.data.forEach(element => {\n                    this.cartItem.push(element.food_id);\n                    this.itemQuantity.push(element.item_qty);\n                });\n            }\n        },\n\n        resetCheckErr: function () {\n            this.errorObj.phoneErr = [];\n            this.errorObj.addressErr = [];\n            this.errorObj.payErr = [];\n            this.errorObj.numErr = [];\n            this.errorObj.nameErr = [];\n            this.errorObj.exDateErr = [];\n            this.errorObj.cvvErr = [];\n        },\n\n        checkEmptyErr: function () {\n            for (var typeErr in this.errorObj) {\n                if (this.errorObj[typeErr].length != 0) {\n                    return false;\n                }\n            }\n            return true;\n        },\n\n        inputUpcase: function (e) {\n            e.target.value = e.target.value.toUpperCase()\n        },\n\n        checkForm: function () {\n            this.resetCheckErr();\n\n            // Phone validate\n            if (!this.checkoutObj.phone) {\n                this.errorObj.phoneErr.push('Entering phone number is required');\n            }\n            else {\n                if (!this.checkoutObj.phone.startsWith('+91')) {\n                    this.errorObj.phoneErr.push('Phone numbers must start with +91');\n                }\n\n                if (this.checkoutObj.phone.length !== 13) {\n                    this.errorObj.phoneErr.push('Phone number must be +91 followed by 10 digits');\n                }\n\n                if (!/[0-9]{11}/.test(this.checkoutObj.phone)) {\n                    this.errorObj.phoneErr.push('Phone numbers can only contain numbers');\n                }\n            }\n\n            // Address validate\n            if (!this.checkoutObj.address) {\n                this.errorObj.addressErr.push('Entering address is required');\n            }\n\n            // Card validate\n            if (!this.checkoutObj.paymentMethod) {\n                this.errorObj.payErr.push('Selecting payment method is required');\n            }\n            else if (this.checkoutObj.paymentMethod == \"card\") {\n                if (!this.cardObj.number) {\n                    this.errorObj.numErr.push('Entering card number is required');\n                }\n                else {\n                    if (!this.cardObj.number.startsWith('4')) {\n                        this.errorObj.numErr.push('Visa card numbers must start with 4');\n                    }\n\n                    if (this.cardObj.number.length != 16) {\n                        this.errorObj.numErr.push('Visa card numbers must have exactly 16 digits');\n                    }\n\n                    if (!/[0-9]{16}/.test(this.cardObj.number)) {\n                        this.errorObj.numErr.push('Visa card numbers can only contain numbers');\n                    }\n                }\n\n                if (!this.cardObj.name) {\n                    this.errorObj.nameErr.push('Entering name is required');\n                }\n                else {\n                    if (!/^[A-Za-z]+$/.test(this.cardObj.name.replace(/\\s/g, \"\"))) {\n                        this.errorObj.nameErr.push('A name can only contain letters');\n                    }\n                }\n\n                if (!this.cardObj.expiryDate) {\n                    this.errorObj.exDateErr.push('Entering expiry date is required');\n                }\n\n\n                if (!this.cardObj.cvv) {\n                    this.errorObj.cvvErr.push('Entering cvv code is required');\n                }\n                else {\n                    if (this.cardObj.cvv.length != 3) {\n                        this.errorObj.cvvErr.push('Cvv code must have exactly 3 digits');\n                    }\n\n                    if (!/[0-9]{3}/.test(this.cardObj.cvv)) {\n                        this.errorObj.cvvErr.push('Cvv code can only contain numbers');\n                    }\n                }\n            } else if (this.checkoutObj.paymentMethod == \"cash\") {\n                this.cardObj.number = \"\";\n                this.cardObj.name = \"\";\n                this.cardObj.expiryDate = \"\";\n                this.cardObj.cvv = \"\";\n\n                this.errorObj.numErr = [];\n                this.errorObj.nameErr = [];\n                this.errorObj.exDateErr = [];\n                this.errorObj.cvvErr = [];\n            }\n        },\n\n        isPaid: function () {\n            if (this.checkoutObj.paymentMethod == \"cash\") {\n                return \"false\"\n            }\n            else if (this.checkoutObj.paymentMethod == \"card\") {\n                return \"true\"\n            }\n        },\n\n        async sendBillDetails(billId, foodId, qty) {\n            let billDetails = {\n                bill_id: parseInt(billId),\n                food_id: parseInt(foodId),\n                item_qty: parseInt(qty)\n            }\n\n            await axios.post(\"/billdetails\", billDetails);\n        },\n\n        async handleSubmit(e) {\n            this.checkForm();\n\n            if (!this.checkEmptyErr()) {\n                e.preventDefault();\n            } else {\n                e.preventDefault();\n                let billId = (await axios.get(\"/billstatus/new\")).data;\n\n                if (billId == \"\") {\n                    billId = 1\n                } else {\n                    billId = parseInt(billId.bill_id) + 1\n                }\n\n                this.cartItem.forEach((foodId, index) => {\n                    this.sendBillDetails(billId, foodId, this.itemQuantity[index])\n                });\n\n                var now = new Date();\n                var day = (\"0\" + now.getDate()).slice(-2);\n                var month = (\"0\" + (now.getMonth() + 1)).slice(-2);\n                var hour = (\"0\" + (now.getHours())).slice(-2);\n                var min = (\"0\" + (now.getMinutes())).slice(-2);\n                var currentTime = now.getFullYear() + \"-\" + month + \"-\" + day + \"T\" + hour + \":\" + min;\n\n                let billStatus = {\n                    bill_id: parseInt(billId),\n                    user_id: parseInt(this.user.user_id),\n                    bill_phone: this.checkoutObj.phone,\n                    bill_address: this.checkoutObj.address,\n                    bill_when: currentTime,\n                    bill_method: this.checkoutObj.paymentMethod,\n                    bill_discount: parseInt(this.calculateSummaryPrice()[1]),\n                    bill_delivery: parseInt(this.calculateSummaryPrice()[2]),\n                    bill_total: parseInt(this.calculateSummaryPrice()[3]),\n                    bill_paid: this.isPaid(),\n                    bill_status: 1\n                }\n\n                axios.post(\"/billstatus\", billStatus);\n                axios.delete(\"/cartItem/\" + this.user.user_id);\n\n                this.cartItem = [];\n                this.itemQuantity = [];\n\n                this.$router.push(\"/thank\");\n\n            }\n        }\n    }\n};\n</script>\n\n<script setup>\n// enables v-focus in templates\nconst vUpcase = {\n    mounted(el) {\n        el.style.textTransform = \"uppercase\";\n    }\n}\n</script>\n\n<style scoped>\n.checkout-container {\n    padding: 2rem 9%;\n}\n\n.checkout-container .checkout-form-container {\n    background: #fff;\n    height: 90vh;\n}\n\n.checkout-container .checkout-form-container form {\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -42%);\n    max-width: 70rem;\n    width: 100%;\n    box-shadow: 0 1rem 1rem rgba(0, 0, 0, 0.05);\n    border: 0.1rem solid rgba(0, 0, 0, 0.2);\n    padding: 2rem;\n    border-radius: 0.5rem;\n    animation: fadeUp 0.4s linear;\n}\n\n.checkout-container .checkout-form-container form h3 {\n    padding-bottom: 1rem;\n    font-size: 2rem;\n    text-transform: uppercase;\n    color: #130f40;\n    margin: 0;\n}\n\n.checkout-container .checkout-form-container form .form-control {\n    margin: 0.7rem 0;\n    border-radius: 0.5rem;\n    background: #f7f7f7;\n    padding: 2rem 1.2rem;\n    font-size: 1.6rem;\n    color: #130f40;\n    text-transform: none;\n    width: 100%;\n    border: none;\n}\n\n.checkout-container .checkout-form-container form label {\n    font-size: 2rem;\n    margin: 0;\n    padding: 0;\n}\n\n.checkout-container .checkout-form-container form span {\n    font-size: 18px;\n    padding-left: 5px;\n    padding-right: 40px;\n}\n\n.checkout-container .checkout-form-container form .btn {\n    margin: 1rem 0;\n    width: 100%;\n    text-align: center;\n}\n\n.checkout-container .checkout-form-container form p {\n    padding-top: 1rem;\n    font-size: 1.5rem;\n    color: #666;\n    margin: 0;\n}\n\n.checkout-container .checkout-form-container form p a {\n    color: #27ae60;\n}\n\n.checkout-container .checkout-form-container form p a:hover {\n    color: #130f40;\n    text-decoration: underline;\n}\n\n.checkout-container .checkout-form-container form .form-group {\n    margin: 0;\n}\n\n.checkout-container .checkout-form-container form .form-group.details-group {\n    margin-top: 40px;\n}\n\n.checkout-container .checkout-form-container form .form-group .error-mess {\n    font-size: 1.5rem;\n    position: relative;\n    color: rgb(243, 47, 47);\n    margin: 0;\n    padding: 0;\n}\n\n.checkout-container .checkout-form-container form .checkout-heading h3 {\n    display: flex;\n    justify-content: space-between;\n}\n\n.checkout-container .checkout-form-container form .checkout-heading h3 span {\n    padding-right: 0px;\n    color: #f38609;\n}\n\n.checkout-container .checkout-form-container form .checkout-heading h3:first-of-type span {\n    padding-right: 0px;\n    color: #130f40;\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}