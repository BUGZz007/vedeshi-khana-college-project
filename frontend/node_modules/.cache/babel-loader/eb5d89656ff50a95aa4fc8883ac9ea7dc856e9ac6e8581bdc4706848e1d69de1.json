{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString } from \"vue\";\nimport _imports_0 from '../assets/images/taco-logo.png';\nconst _hoisted_1 = {\n  class: \"admin-container\"\n};\nconst _hoisted_2 = {\n  class: \"d-flex justify-content-start align-items-center\"\n};\nconst _hoisted_3 = {\n  class: \"table-responsive\"\n};\nconst _hoisted_4 = {\n  class: \"table colored-header datatable project-list\"\n};\nconst _hoisted_5 = [\"onClick\"];\nconst _hoisted_6 = [\"onClick\"];\nconst _hoisted_7 = [\"onClick\"];\nconst _hoisted_8 = [\"onClick\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createCommentVNode(\" Adding the logo before the Vedeshi Khana text \"), _cache[1] || (_cache[1] = _createElementVNode(\"img\", {\n    src: _imports_0,\n    alt: \"Logo\",\n    class: \"dashboard-logo\"\n  }, null, -1 /* HOISTED */)), _cache[2] || (_cache[2] = _createElementVNode(\"h1\", null, \"Vedeshi Khana\", -1 /* HOISTED */)), _createElementVNode(\"button\", {\n    class: \"btn ml-auto\",\n    onClick: _cache[0] || (_cache[0] = $event => $options.handleLogout())\n  }, \"Logout\")]), _createElementVNode(\"div\", _hoisted_3, [_createCommentVNode(\" PROJECT TABLE \"), _cache[4] || (_cache[4] = _createElementVNode(\"h1\", null, \"Orders Received\", -1 /* HOISTED */)), _createElementVNode(\"table\", _hoisted_4, [_cache[3] || (_cache[3] = _createElementVNode(\"thead\", null, [_createElementVNode(\"tr\", null, [_createElementVNode(\"th\", null, \"Bill Id\"), _createElementVNode(\"th\", null, \"User Id\"), _createElementVNode(\"th\", null, \"Phone\"), _createElementVNode(\"th\", null, \"Address\"), _createElementVNode(\"th\", null, \"When\"), _createElementVNode(\"th\", null, \"Paid\"), _createElementVNode(\"th\", null, \"Total\"), _createElementVNode(\"th\", null, \"Status\"), _createElementVNode(\"th\", null, \"Action\")])], -1 /* HOISTED */)), _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($options.filterBills.slice().reverse(), b => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: b.bill_id\n    }, [_createElementVNode(\"td\", null, _toDisplayString(b.bill_id), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(b.user_id), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(b.bill_phone), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(b.bill_address), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(b.bill_when), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(b.bill_paid), 1 /* TEXT */), _createElementVNode(\"td\", null, \"₹\" + _toDisplayString(b.bill_total), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString($data.avaiableStatus[b.bill_status]), 1 /* TEXT */), _createElementVNode(\"td\", null, [b.bill_status < 5 ? (_openBlock(), _createElementBlock(\"button\", {\n      key: 0,\n      class: \"action-btn\",\n      onClick: $event => $options.nextStatusBtn(b.bill_id)\n    }, _toDisplayString($data.avaiableStatus[b.bill_status + 1]), 9 /* TEXT, PROPS */, _hoisted_5)) : _createCommentVNode(\"v-if\", true), b.bill_status == 1 ? (_openBlock(), _createElementBlock(\"button\", {\n      key: 1,\n      class: \"cancel-btn\",\n      onClick: $event => $options.cancelBtn(b.bill_id)\n    }, \" Cancel \", 8 /* PROPS */, _hoisted_6)) : b.bill_status == 5 && b.bill_paid == 'false' ? (_openBlock(), _createElementBlock(\"button\", {\n      key: 2,\n      class: \"paid-btn\",\n      onClick: $event => $options.paidBtn(b.bill_id)\n    }, \" Paid \", 8 /* PROPS */, _hoisted_7)) : b.bill_status == 5 && b.bill_paid == 'true' ? (_openBlock(), _createElementBlock(\"button\", {\n      key: 3,\n      class: \"action-btn\",\n      onClick: $event => $options.nextStatusBtn(b.bill_id)\n    }, _toDisplayString($data.avaiableStatus[b.bill_status + 1]), 9 /* TEXT, PROPS */, _hoisted_8)) : _createCommentVNode(\"v-if\", true)])]);\n  }), 128 /* KEYED_FRAGMENT */))])])])]);\n}","map":{"version":3,"names":["_imports_0","class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_createCommentVNode","src","alt","onClick","_cache","$event","$options","handleLogout","_hoisted_3","_hoisted_4","_Fragment","_renderList","filterBills","slice","reverse","b","key","bill_id","_toDisplayString","user_id","bill_phone","bill_address","bill_when","bill_paid","bill_total","$data","avaiableStatus","bill_status","nextStatusBtn","_hoisted_5","cancelBtn","_hoisted_6","paidBtn","_hoisted_7","_hoisted_8"],"sources":["C:\\Users\\visha\\Downloads\\Vedeshi Khana college project\\frontend\\src\\admin\\Dashboard.vue"],"sourcesContent":["<template>\n    <div class=\"admin-container\">\n        <div class=\"d-flex justify-content-start align-items-center\">\n            <!-- Adding the logo before the Vedeshi Khana text -->\n            <img src=\"../assets/images/taco-logo.png\" alt=\"Logo\" class=\"dashboard-logo\" />\n            <h1>Vedeshi Khana</h1>\n            <button class=\"btn ml-auto\" @click=\"handleLogout()\">Logout</button>\n        </div>\n\n        <div class=\"table-responsive\">\n            <!-- PROJECT TABLE -->\n            <h1>Orders Received</h1>\n            <table class=\"table colored-header datatable project-list\">\n                <thead>\n                    <tr>\n                        <th>Bill Id</th>\n                        <th>User Id</th>\n                        <th>Phone</th>\n                        <th>Address</th>\n                        <th>When</th>\n                        <th>Paid</th>\n                        <th>Total</th>\n                        <th>Status</th>\n                        <th>Action</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    <tr v-for=\"(b) in filterBills.slice().reverse()\" :key=\"b.bill_id\">\n                        <td>{{ b.bill_id }}</td>\n                        <td>{{ b.user_id }}</td>\n                        <td>{{ b.bill_phone }}</td>\n                        <td>{{ b.bill_address }}</td>\n                        <td>{{ b.bill_when }}</td>\n                        <td>{{ b.bill_paid }}</td>\n                        <td>₹{{ b.bill_total }}</td>\n                        <td>{{ avaiableStatus[b.bill_status] }}</td>\n                        <td>\n                            <button v-if=\"b.bill_status < 5\" class=\"action-btn\" @click=\"nextStatusBtn(b.bill_id)\">\n                                {{ avaiableStatus[b.bill_status + 1] }}\n                            </button>\n\n                            <button v-if=\"b.bill_status == 1\" class=\"cancel-btn\" @click=\"cancelBtn(b.bill_id)\">\n                                Cancel\n                            </button>\n\n                            <button v-else-if=\"b.bill_status == 5 && b.bill_paid == 'false'\" class=\"paid-btn\"\n                                @click=\"paidBtn(b.bill_id)\">\n                                Paid\n                            </button>\n\n                            <button v-else-if=\"b.bill_status == 5 && b.bill_paid == 'true'\" class=\"action-btn\"\n                                @click=\"nextStatusBtn(b.bill_id)\">\n                                {{ avaiableStatus[b.bill_status + 1] }}\n                            </button>\n                        </td>\n                    </tr>\n                </tbody>\n            </table>\n        </div>\n    </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport { mapState, mapMutations } from \"vuex\";\nexport default {\n    name: 'Dashboard',\n\n    data() {\n        return {\n            avaiableStatus: [\"cancel\", \"confirmed\", \"preparing\", \"checking\", \"delivering\", \"delivered\", \"completed\"],\n            allBills: [],\n            showOrderDetails: false,\n            sendId: undefined,\n            interval: \"\",\n        }\n    },\n\n    mounted: function () {\n        this.getAllBills();\n        if (!this.admin) {\n            this.$router.push(\"/\");\n        }\n\n        this.autoUpdate();\n    },\n\n    beforeUnmount() {\n        clearInterval(this.interval)\n    },\n\n    computed: {\n        ...mapState([\"allFoods\", \"admin\"]),\n\n        filterBills: function () {\n            return this.allBills.filter((b) => b.bill_status < 6 && b.bill_status > 0);\n        },\n    },\n\n    methods: {\n        ...mapMutations([\"setAdmin\"]),\n\n        async getAllBills() {\n            this.allBills = (await axios.get('/billstatus')).data;\n        },\n\n        sendBillId: function (id) {\n            this.sendId = id\n            this.showOrderDetails = !this.showOrderDetails;\n        },\n\n        closeView: function () {\n            this.showOrderDetails = !this.showOrderDetails;\n        },\n\n        handleLogout: function () {\n            this.setAdmin(\"\");\n        },\n\n        async nextStatusBtn(id) {\n            await axios.put('/billstatus/' + id);\n            this.getAllBills();\n        },\n\n        async paidBtn(id) {\n            await axios.put('/billstatus/paid/' + id);\n            this.getAllBills();\n        },\n\n        async cancelBtn(id) {\n            await axios.put('/billstatus/cancel/' + id);\n            this.getAllBills();\n        },\n\n        autoUpdate: function () {\n            this.interval = setInterval(function () {\n                this.getAllBills();\n            }.bind(this), 1000);\n        }\n    },\n}\n</script>\n\n<style scoped>\n.admin-container {\n    background-color: #fff;\n    height: 100vh;\n    padding: 2rem 9%;\n    font-size: 16px;\n}\n\n.project-list>tbody>tr>td {\n    padding: 12px 8px;\n}\n\n.project-list>tbody>tr>td .avatar {\n    width: 22px;\n    border: 1px solid #CCC;\n}\n\n.table-responsive {\n    margin-top: 8vh;\n}\n\n.action-btn,\n.cancel-btn,\n.paid-btn {\n    width: 100px;\n    height: 25px;\n    color: white;\n    text-transform: capitalize;\n}\n\n.action-btn {\n    background-color: #0da9ef;\n    margin-right: 10px;\n}\n\n.cancel-btn,\n.paid-btn {\n    background-color: red;\n}\n\n.action-btn:hover {\n    background-color: #27ae60;\n}\n\n/* Style for logo */\n.dashboard-logo {\n    width: 30px; /* Set logo size to 30px */\n    height: auto;\n    margin-right: 10px;  /* Spacing between logo and text */\n    vertical-align: middle;  /* Align logo with text */\n}\n\n/* Ensuring the header aligns left */\n.d-flex.justify-content-start {\n    justify-content: flex-start;\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}